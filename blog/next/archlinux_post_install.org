#+OPTIONS: toc:nil num:nil todo:nil pri:nil tags:nil ^:nil TeX:nil
#+CATEGORY: Linux, 技術メモ
#+TAGS: ArchLinux
#+DESCRIPTION: Arch Linuxインストール後の設定メモです
#+TITLE: ArchLinux インストール後の設定メモ

#+BEGIN_HTML
<img alt="" src="http://futurismo.biz/wp-content/uploads/archlinux-logo-dark.png" width="500"/>
#+END_HTML

前回、ArchLinuxをインストールしたので、今回はその後の設定についてまとめます。

- [[http://futurismo.biz/archives/2482][Lets Noteを買ったのでとりあえずWindows8とArchLinuxのデュアルブートにしてみた | Futurismo]]

* wifiの設定
まずは、wifiを有効化。

#+begin_src language
iw dev
wpa_supplicant -B -i wlp2s0 -c <(wpa_passphrase "ssid" "psk")
dhcpcd wlp2s0
#+end_src

起動時に自動でwifi接続するように設定。

#+begin_src language
pacman -S wpa_actiond
systemctl enable netctl-auto@wlp2s0.service
reboot
#+end_src

再起動してネットに接続できればOK.

* ユーザ設定
ユーザの作成。

#+begin_src language
useradd -m -g users -G wheel -s /usr/bin/zsh tsu-nera
passwd tsu-nera
#+end_src

sudoをパスワードなしで利用するために、visudoを設定。rootになって、

#+begin_src language
# これで emacsで visudoが起動できる。
VISUAL=emacs visudo

# 末尾に以下の行を追加。
tsu-nera ALL=(ALL) ALL
#+end_src

* ツールの設定
** pacman
ArchLinuxのパッケージ管理ツール、pacmanをまずはべんきょ。

- [[https://wiki.archlinux.org/index.php/Pacman_(%E6%97%A5%E6%9C%AC%E8%AA%9E)][pacman (日本語) - ArchWiki]]

よく利用するツールをインストール。

#+begin_src language
pacman -S emacs git zsh tmux openssh
#+end_src

すべてをアップデート。

n#+begin_src language
pacman -Syu
#+end_src

** yaourt

   pacman -S base-devel

** gitの設定

#+begin_src language
ssh-keygen -t rsa
#+end_src

- [[http://futurismo.biz/archives/1280][githubに新しいリポジトリを作成してローカルのリポジトリをアップロードする | Futurismo]]

** my dotfiles
github上で管理しているdotfilesをインストールする。

#+begin_src language
git clone https://github.com/tsu-nera/toolkit.git
git submodule update --init
#+end_src

つづけて、emacsも立ち上げる。
el-getでパッケージ管理しているので自動でtoolはおとしてくる。

* GUI環境の設定
** X Window System

# pacman -S xorg-server xorg-server-utils xorg-xinit

# pacman -S mesa

$ lspci | grep VGA
Intel Corporation Haswell-ULT Integrated Graphics Controller(rev 09)

ここから適切なドライバを探す。

- [[https://wiki.archlinux.org/index.php/Xorg_(%E6%97%A5%E6%9C%AC%E8%AA%9E)#.E3.83.89.E3.83.A9.E3.82.A4.E3.83.90.E3.83.BC.E3.81.AE.E3.82.A4.E3.83.B3.E3.82.B9.E3.83.88.E3.83.BC.E3.83.AB][Xorg (日本語) - ArchWiki]]

pacman -S xf86-video-intel

タッチパッドの制御

pacman -S xf86-input-synaptics

*** TouchPad Disable
TouchPadは普段は邪魔なので、無効化しておく。エイリアスを切って、off/onをする。

#+begin_src language
alias touchpad_disable='xinput --set-prop "SynPS/2 Synaptics TouchPad" "Device Enabled" 0'
alias touchpad_enable='xinput --set-prop "SynPS/2 Synaptics TouchPad" "Device Enabled" 1'
#+end_src

** xmonad

* 日本語環境の設定
** 文字コードの設定
ja_JP.UTF-8をつかう。

#+begin_src language
# locale.genを編集
emacs /etc/locale.gen

# 以下をコメントアウト
en_US.UTF-8 UTF-8
ja_JP.UTF-8 UTF-8

# locale.gen生成
locale.gen
#+end_src

コンソール環境では文字化けする。GUI環境を整えてから以下を設定。

#+begin_src language
echo LANG=ja_JP.UTF-8 > /etc/locale.conf
export LANG=ja_JP.UTF-8
#+end_src

sudo pacman -S ibus-anthy
ibus-setup

** Font
Ricty 

yaourt -S ttf-ricty

* 外観関係
** urxvt

/etc/hosts

yaourt -S rxvt-unicode-patched

** slim
軽量なログインマネージャー。

#+begin_src language
pacman -S slim archlinux-themes-slim slim-themes
#+end_src

/etc/slim.confを設定する。テーマは/usr/share/slim/themsにある。

#+begin_src language
# defaultユーザの設定
default_user        tsu-nera
# テーマの設定
current_theme       archlinux-darch-grey
#+end_src

最後に設定を反映する。

#+begin_src language
systemctl enable slim.service
reboot
#+end_src

** xmonad

* Bookmarks
- [[https://wiki.archlinux.org/index.php/Beginners%27_Guide/Extra_(%E6%97%A5%E6%9C%AC%E8%AA%9E)][Beginners' Guide/Extra (日本語) - ArchWiki]]
- [[http://futurismo.biz/archives/2082][Linux Mintインストール後の設定メモ | Futurismo]]
- [[http://note.chiebukuro.yahoo.co.jp/detail/n267693][Archlinuxのインストールから環境設定まで - Yahoo!知恵袋]]
- [[http://memo.laughk.org/2014/05/25/start_archlinux.html][Arch Linux はじめました ~ 続・ラフなラボ]]
- [[http://archlinux-blogger.blogspot.jp/2013/08/arch-linux.html][普段使いのArch Linux: Arch Linuxで日本語フォントを設定 ]]
- [[http://archlinux-blogger.blogspot.jp/2014/02/arch-linux-20140201-2-x-gnomegui.html][普段使いのArch Linux: Arch Linux インストール (デスクトップ環境・日本語化編)]]

