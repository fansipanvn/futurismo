* RubyTrouble

** Windows
*** コマンドプロンプトでirbエラー

#+begin_src dos
\Users\TSUNEMICHI>irb
DL is deprecated, please use Fiddle
C:/Ruby200-x64/lib/ruby/site_ruby/2.0.0/rbreadline.rb:2111:in `expand_path': non-absolute home ((
#+end_src

Cygwinで 環境変数を HOME=/home/xxxにしているから、expand_pathメソッドがエラーする。

以下を入力。

#+begin_src dos
C:\Users\TSUNEMICHI>set HOME=
#+end_src

- [[http://stackoverflow.com/questions/12028130/ruby-irb-doesnt-work-on-windows][Ruby: irb doesn't work on Windows - Stack Overflow]]

*** Cygwinでで selenium-webdriver インストール失敗
Cygwin64bit版は依存しているffiライブラリがバグってる！
パッチを当てる必要があるという茨の道。

- https://github.com/ffi/ffi/issues/284

#+begin_src sh
$ gem install selenium-webdriver

Building native extensions.  This could take a while...
ERROR:  Error installing selenium-webdriver:
        ERROR: Failed to build gem native extension.

        /usr/bin/ruby.exe extconf.rb
checking for ffi.h... *** extconf.rb failed ***
Could not create Makefile due to some reason, probably lack of
necessary libraries and/or headers.  Check the mkmf.log file for more
#+end_src

Windows版のRubyでgemのbuildがともなう場合は、
development kit という、mingwをベースにしたパッケージを入れるのが王道らしいです。
以下からダウンロードして、解凍したフォルダのbinフォルダに環境変数PATHを通す。

http://rubyinstaller.org/downloads/

