#+OPTIONS: toc:nil
* RubyTrouble

** Windows
*** コマンドプロンプトで irb エラー

#+begin_src dos
\Users\TSUNEMICHI>irb
DL is deprecated, please use Fiddle
C:/Ruby200-x64/lib/ruby/site_ruby/2.0.0/rbreadline.rb:2111:in `expand_path': non-absolute home ((
#+end_src

Cygwin で 環境変数を HOME=/home/xxx にしているから, expand_path メソッドがエラーする.

以下を入力.

#+begin_src dos
C:\Users\TSUNEMICHI>set HOME=
#+end_src

- [[http://stackoverflow.com/questions/12028130/ruby-irb-doesnt-work-on-windows][Ruby: irb doesn't work on Windows - Stack Overflow]]

*** Cygwin でで selenium-webdriver インストール失敗
Cygwin64bit 版は依存している ffi ライブラリがバグってる!
パッチを当てる必要があるという茨の道.

- https://github.com/ffi/ffi/issues/284

#+begin_src sh
$ gem install selenium-webdriver

Building native extensions.  This could take a while...
ERROR:  Error installing selenium-webdriver:
        ERROR: Failed to build gem native extension.

        /usr/bin/ruby.exe extconf.rb
checking for ffi.h... *** extconf.rb failed ***
Could not create Makefile due to some reason, probably lack of
necessary libraries and/or headers.  Check the mkmf.log file for more
#+end_src

Windows 版の Ruby で gem の build がともなう場合は,
development kit という, mingw をベースにしたパッケージを入れるのが王道らしいです.
以下からダウンロードして, 解凍したフォルダの bin フォルダに環境変数 PATH を通す.

http://rubyinstaller.org/downloads/

